---
import { lighten, darken } from 'polished';

interface Props {
    primaryBallColor?: string;
    secondaryBallColor?: string;
    gridColor?: string;
    diagonalColor?: string;
    vignetteColor?: string;
}

const {
    primaryBallColor = "#F97316",
    secondaryBallColor = "#A855F7",
    gridColor = "rgba(255,255,255,0.05)",
    diagonalColor = "rgba(255,255,255,0.1)",
    vignetteColor = "rgba(0,0,0,0.4)",
} = Astro.props;

const primaryLight = lighten(0.2, primaryBallColor);
const primaryDark = darken(0.2, primaryBallColor);
const secondaryLight = lighten(0.2, secondaryBallColor);
const secondaryDark = darken(0.2, secondaryBallColor);
---

<div class="fixed inset-0 -z-50">
    <!-- Main gradient orbs -->
    <div
        class="absolute top-1/4 left-1/4 w-64 h-64 rounded-full blur-3xl animate-float"
        style={`background-color: ${secondaryLight}`}
    >
    </div>
    <div
        class="absolute bottom-1/4 right-1/4 w-64 h-64 rounded-full blur-3xl animate-float animation-delay-1000"
        style={`background-color: ${secondaryDark}`}
    >
    </div>

    <!-- Additional decorative orbs -->
    <div
        class="absolute top-1/3 right-1/3 w-32 h-32 rounded-full blur-2xl animate-pulse animation-delay-500"
        style={`background-color: ${primaryLight}`}
    >
    </div>
    <div
        class="absolute bottom-1/3 left-1/3 w-48 h-48 rounded-full blur-2xl animate-float animation-delay-1500"
        style={`background-color: ${primaryDark}`}
    >
    </div>

    <!-- Small particle effects -->
    <div
        class="absolute top-1/2 left-1/2 w-16 h-16 rounded-full blur-xl animate-pulse"
        style={`background-color: ${secondaryLight}`}
    >
    </div>
    <div
        class="absolute bottom-1/2 right-1/2 w-24 h-24 rounded-full blur-xl animate-pulse"
        style={`background-color: ${secondaryDark}`}
    >
    </div>

    <!-- Main grid pattern -->
    <div
        class="absolute inset-0 bg-[length:64px_64px] opacity-20 backdrop-blur-[100px]"
        style={`background-image: linear-gradient(${gridColor} 1px, transparent 1px),
            linear-gradient(to right, ${gridColor} 1px, transparent 1px);`}
    >
    </div>

    <!-- Diagonal lines -->
    <div
        class="absolute inset-0 opacity-20"
        style={`background-image: repeating-linear-gradient(45deg, ${diagonalColor} 0, ${diagonalColor} 1px, transparent 0, transparent 48%);
            background-size: 48px 48px;`}
    >
    </div>

    <!-- Vignette effect -->
    <div
        class="absolute inset-0 pointer-events-none"
        style={`background: radial-gradient(circle at center, transparent 0%, ${vignetteColor} 100%);`}
    >
    </div>
    <div
        class="absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20"
    >
    </div>
    <div
        class="absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/20"
    >
    </div>

    <!-- Bottom violet glow -->
    <div
        class="absolute bottom-0 left-1/2 -translate-x-1/2 w-[200px] h-[200px] rounded-full blur-[100px] opacity-30"
        style={`background-color: ${secondaryBallColor}`}
    >
    </div>

    <!-- Small accent glow -->
    <div
        class="absolute bottom-[20%] right-[20%] w-[100px] h-[100px] rounded-full blur-[80px] opacity-20"
        style={`background-color: ${primaryBallColor}`}
    >
    </div>

    <!-- Left side glow -->
    <div
        class="absolute top-[40%] left-0 w-[150px] h-[150px] rounded-full blur-[90px] opacity-25"
        style={`background-color: ${primaryBallColor}`}
    >
    </div>
</div>

<style>
    @keyframes float {
        0%, 100% { transform: translate(0, 0); }
        50% { transform: translate(-10px, 10px); }
    }

    .animate-float {
        animation: float 8s ease-in-out infinite;
    }

    .animate-pulse {
        animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 0.2; }
        50% { opacity: 0.5; }
    }

    .animation-delay-500 {
        animation-delay: 500ms;
    }

    .animation-delay-700 {
        animation-delay: 700ms;
    }

    .animation-delay-1000 {
        animation-delay: 1000ms;
    }

    .animation-delay-1500 {
        animation-delay: 1500ms;
    }
</style>